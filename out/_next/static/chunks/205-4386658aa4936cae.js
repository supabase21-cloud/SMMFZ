"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{285:(e,r,s)=>{s.d(r,{$:()=>c,r:()=>l});var t=s(5155),a=s(2115),n=s(4253),i=s(2085),o=s(9434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-150 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground border-b-4 border-primary-dark hover:bg-primary-darker active:border-b-0 active:translate-y-1",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:s,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,t.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:s})),ref:r,...d})});c.displayName="Button"},1694:(e,r,s)=>{s.d(r,{ML:()=>n,Tr:()=>o,gu:()=>l,gz:()=>i});var t=s(5155),a=s(6766);let n=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,t.jsx)("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),(0,t.jsx)("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),(0,t.jsx)("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]}),i=e=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:(0,t.jsx)("path",{d:"M21 8.15c-1.3.35-2.6.5-3.9.5-2.8 0-5-2.2-5-5V2h-3v11.5a6.5 6.5 0 1 0 13 0V10c0-1-.8-1.85-1.9-1.85Z"})}),o=e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,t.jsx)("path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10C2.5 4.24 4.24 2.5 7 2.5h10c2.76 0 4.5 1.74 4.5 4.5s0 10 0 10a24.12 24.12 0 0 1 0 10c0 2.76-1.74 4.5-4.5 4.5H7c-2.76 0-4.5-1.74-4.5-4.5Z"}),(0,t.jsx)("path",{d:"m10 15 5-3-5-3z"})]}),l=e=>{let{className:r,...s}=e;return(0,t.jsx)(a.default,{src:"https://i.postimg.cc/hXXxpK3k/IMG-20250808-WA0265.jpg",alt:"FZBoostify Logo",width:100,height:100,className:r,unoptimized:!0})}},2099:(e,r,s)=>{s.d(r,{N:()=>i});var t=s(5647);let a="https://vjryvngvrqsxahfrrzyk.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZqcnl2bmd2cnFzeGFoZnJyenlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzMDkzMTAsImV4cCI6MjA2Nzg4NTMxMH0.UtURD4d8oWiVHQlpEoDZM1tsr3D-vWlbEgmU59CUrHc";if(!a||!n)throw Error("Supabase URL and/or anonymous key are not provided. Please check your .env.local file.");let i=(0,t.UU)(a,n)},2205:(e,r,s)=>{s.d(r,{Header:()=>P});var t=s(5155),a=s(6874),n=s.n(a),i=s(5695),o=s(285),l=s(1694),c=s(9576),d=s(2115),u=s(5821),m=s(2085),h=s(5318),f=s(9434);let g=u.bL,x=u.l9,p=u.bm,v=u.ZL,w=d.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(u.hJ,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:r})});w.displayName=u.hJ.displayName;let y=(0,m.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),j=d.forwardRef((e,r)=>{let{side:s="right",className:a,children:n,...i}=e;return(0,t.jsxs)(v,{children:[(0,t.jsx)(w,{}),(0,t.jsxs)(u.UC,{ref:r,className:(0,f.cn)(y({side:s}),a),...i,children:[n,(0,t.jsxs)(u.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(h.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});j.displayName=u.UC.displayName;let N=e=>{let{className:r,...s}=e;return(0,t.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",r),...s})};N.displayName="SheetHeader";let b=d.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(u.hE,{ref:r,className:(0,f.cn)("text-lg font-semibold text-foreground",s),...a})});b.displayName=u.hE.displayName;let _=d.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(u.VY,{ref:r,className:(0,f.cn)("text-sm text-muted-foreground",s),...a})});_.displayName=u.VY.displayName;var k=s(469),C=s(3349),A=s(7104),E=s(3896),I=s(4301),S=s(8390),L=s(8341),q=s(4815),z=s(286),D=s(3576),F=s(8271),U=s(4063),O=s(3975),T=s(8718);let M=()=>{let[e,r]=(0,d.useState)(null);(0,d.useEffect)(()=>{let e=e=>{e.preventDefault(),r(e)};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]);let s=async()=>{if(!e)return void alert("Installation is not supported on this device.");await e.prompt();let{outcome:s}=await e.userChoice;"accepted"===s?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),r(null)};return{installPrompt:e,handleInstall:s}},R=()=>{let{installPrompt:e,handleInstall:r}=M();return e?(0,t.jsxs)(o.$,{variant:"outline",onClick:r,children:[(0,t.jsx)(T.A,{className:"mr-2 h-4 w-4"}),"Install App"]}):(0,t.jsxs)(o.$,{variant:"outline",disabled:!0,children:[(0,t.jsx)(T.A,{className:"mr-2 h-4 w-4"}),"Install App"]})};function P(){let{user:e,logout:r,isLoading:s}=(0,c.A)(),a=(0,i.useRouter)(),d=(0,i.usePathname)(),u=()=>{r(),a.push("/")},m=(null==e?void 0:e.email)==="admin@gmail.com",h="/"===d,f=(0,t.jsx)(t.Fragment,{children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.$,{asChild:!0,variant:"ghost",children:(0,t.jsxs)(n(),{href:m?"/admin":"/dashboard",children:[(0,t.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),(0,t.jsxs)(o.$,{onClick:u,variant:"outline",children:[(0,t.jsx)(C.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.$,{asChild:!0,variant:"ghost",children:(0,t.jsxs)(n(),{href:"/login",children:[(0,t.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Login"]})}),(0,t.jsx)(o.$,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/register",children:[(0,t.jsx)(E.A,{className:"mr-2 h-4 w-4"}),"Sign Up"]})})]})}),v=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/",className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[(0,t.jsx)(l.gu,{className:"h-6 w-6"}),(0,t.jsx)("span",{children:"FZBoostify"})]})}),e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:m?"/admin":"/dashboard",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(k.A,{className:"h-5 w-5"})," Dashboard"]})}),!m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/order",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(I.A,{className:"h-5 w-5"})," New Order"]})}),(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/deposit",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(S.A,{className:"h-5 w-5"})," Deposit"]})})]}),m&&(0,t.jsx)(Z,{}),(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(o.$,{onClick:u,variant:"ghost",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground justify-start p-0 h-auto",children:[(0,t.jsx)(C.A,{className:"h-5 w-5"})," Logout"]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/login",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(A.A,{className:"h-5 w-5"})," Login"]})}),(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/register",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(E.A,{className:"h-5 w-5"})," Sign Up"]})})]})]});return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background px-4 md:px-6",children:[!h&&m&&e&&(0,t.jsx)(J,{}),(0,t.jsxs)(n(),{href:"/",className:"flex items-center justify-center gap-2 md:mr-6",children:[(0,t.jsx)(l.gu,{className:"h-10 w-10"}),(0,t.jsx)("span",{className:"text-lg font-bold font-headline",children:"FZBoostify"})]}),(0,t.jsxs)("nav",{className:"hidden flex-col gap-6 text-lg font-medium md:flex md:flex-row md:items-center md:gap-5 md:text-sm lg:gap-6 ml-auto",children:[(0,t.jsx)(R,{}),f]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 ml-auto md:ml-0 md:hidden",children:[(0,t.jsx)(R,{}),!h&&(0,t.jsxs)(g,{children:[(0,t.jsx)(x,{asChild:!0,children:(0,t.jsxs)(o.$,{variant:"outline",size:"icon",className:"shrink-0",children:[(0,t.jsx)(L.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,t.jsxs)(j,{side:"left",children:[(0,t.jsxs)(N,{children:[(0,t.jsx)(b,{children:"Navigation"}),(0,t.jsx)(_,{className:"sr-only",children:"Main navigation menu"})]}),(0,t.jsx)("nav",{className:"grid gap-6 text-lg font-medium mt-4",children:v})]})]})]})]})})}function J(){return(0,t.jsxs)(g,{children:[(0,t.jsx)(x,{asChild:!0,children:(0,t.jsxs)(o.$,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",children:[(0,t.jsx)(L.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle Admin Menu"})]})}),(0,t.jsxs)(j,{side:"left",className:"md:hidden p-0",children:[(0,t.jsxs)(N,{className:"p-4",children:[(0,t.jsx)(b,{children:"Admin Menu"}),(0,t.jsx)(_,{className:"sr-only",children:"Administrator navigation menu"})]}),(0,t.jsx)(O.a,{})]})]})}function Z(){return(0,t.jsxs)("div",{className:"pl-4 border-l-2 border-primary/50 ml-2 space-y-4",children:[(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/admin/orders",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground text-base",children:[(0,t.jsx)(q.A,{className:"h-5 w-5"})," Orders"]})}),(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/admin/users",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground text-base",children:[(0,t.jsx)(z.A,{className:"h-5 w-5"})," Users"]})}),(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/admin/credentials",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground text-base",children:[(0,t.jsx)(D.A,{className:"h-5 w-5"})," Credentials"]})}),(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/admin/services",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground text-base",children:[(0,t.jsx)(F.A,{className:"h-5 w-5"})," Services"]})}),(0,t.jsx)(p,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/admin/comments",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground text-base",children:[(0,t.jsx)(U.A,{className:"h-5 w-5"})," Customer Comments"]})})]})}},3473:(e,r,s)=>{s.d(r,{AR:()=>i,DY:()=>n,Gm:()=>u,Kv:()=>g,WF:()=>h,Z1:()=>o,bU:()=>d,h1:()=>c,hs:()=>m,lo:()=>x,r3:()=>p,u9:()=>v,wH:()=>f,wz:()=>a});var t=s(2099);let a=async e=>{let{data:r,error:s}=await t.N.from("users").select("*").eq("email",e).single();return s&&"PGRST116"!==s.code?(console.error("Error getting user:",s),null):r},n=async e=>{let{data:r,error:s}=await t.N.auth.signUp({email:e.email,password:e.password});if(s)return console.error("Supabase auth signup error:",s.message),{user:null,error:s.message};if(!r.user)return console.error("Supabase auth signup did not return a user."),{user:null,error:"Could not create user."};let a="user".concat(Math.floor(1e3+9e3*Math.random())),{data:n,error:i}=await t.N.from("users").insert({id:r.user.id,email:e.email,username:a,funds:0}).select().single();return i?(console.error("Error inserting user into database:",i),{user:null,error:"Could not save user profile."}):{user:n}},i=async(e,r)=>{let{data:s,error:a}=await t.N.from("users").update({funds:r}).eq("email",e).select().single();return a?(console.error("Error setting user funds:",a),null):s},o=async()=>{let{data:e,error:r}=await t.N.from("services").select("*").order("platform").order("type");return r?(console.error("Error getting services:",JSON.stringify(r,null,2)),[]):e||[]},l=async e=>{let{data:r,error:s}=await t.N.from("services").select("*").eq("id",e).single();return s?void console.error("Error getting service by ID:",s):r},c=async e=>{let r=e.map(e=>({...e,platform:e.platform.toLowerCase(),type:e.type.toLowerCase(),available:!0,user_cooldown_hours:0===e.price&&e.user_cooldown_hours||0,link_cooldown_hours:0===e.price&&e.link_cooldown_hours||0})),{data:s,error:a}=await t.N.from("services").insert(r).select();return a?(console.error("Error adding services:",a),null):s},d=async(e,r)=>{var s,a;let n={...r,platform:null==(s=r.platform)?void 0:s.toLowerCase(),type:null==(a=r.type)?void 0:a.toLowerCase()};0!==r.price&&(n.user_cooldown_hours=0,n.link_cooldown_hours=0);let{data:i,error:o}=await t.N.from("services").update(n).eq("id",e).select().single();return o?(console.error("Error updating service:",o),null):i},u=async(e,r)=>{let{data:s,error:a}=await t.N.from("services").update({available:r}).eq("id",e).select().single();return a?(console.error("Error updating service availability:",a),null):s},m=async e=>{let{error:r}=await t.N.from("services").delete().eq("id",e);return r?(console.error("Error deleting service:",r),{success:!1,error:r.message}):{success:!0}},h=async()=>{let{data:e,error:r}=await t.N.from("orders").select("*").order("created_at",{ascending:!1});return r?(console.error("Error getting orders:",JSON.stringify(r,null,2)),[]):(null==e?void 0:e.map(e=>({id:e.id,userEmail:e.user_email,username:e.username,serviceId:e.service_id,platform:e.platform,serviceType:e.service_type,quantity:e.quantity,price:e.price,status:e.status,link:e.url,createdAt:e.created_at,comments:Array.isArray(e.comments)?e.comments:null,user_cooldown_hours:e.user_cooldown_hours,link_cooldown_hours:e.link_cooldown_hours})))||[]},f=async e=>{let r=await a(e.userEmail),s=await l(e.serviceId);if(!r||!s||!s.available)return{success:!1,error:"User or service not found, or service is unavailable."};let n=e.quantity*s.price;if(r.funds<n)return{success:!1,error:"Insufficient funds."};if(s.type.toLowerCase().includes("comment")){if(0===e.quantity||!e.comments||0===e.comments.length)return{success:!1,error:"Comments cannot be empty for this service."}}else if(e.quantity<s.min||e.quantity>s.max)return{success:!1,error:"Quantity must be between ".concat(s.min," and ").concat(s.max,".")};if(0===n){let{user_cooldown_hours:r,link_cooldown_hours:a}=s;if(r>0){let s=new Date(Date.now()-60*r*6e4).toISOString(),{data:a,error:n}=await t.N.from("orders").select("created_at").eq("user_email",e.userEmail).eq("price",0).gt("created_at",s).order("created_at",{ascending:!1}).limit(1).single();if(n&&"PGRST116"!==n.code)return console.error("Error checking for recent user free orders:",n),{success:!1,error:"Could not verify free order eligibility."};if(a){let e=new Date(a.created_at).getTime()+60*r*6e4;return{success:!1,error:"You must wait ".concat(r," hour(s) between free orders."),errorType:"USER_COOLDOWN",cooldownExpiry:e}}}if(a>0){let r=new Date(Date.now()-60*a*6e4).toISOString(),{data:s,error:n}=await t.N.from("orders").select("created_at").eq("user_email",e.userEmail).eq("url",e.link).eq("price",0).gt("created_at",r).order("created_at",{ascending:!1}).limit(1).single();if(n&&"PGRST116"!==n.code)return console.error("Error checking for recent link free orders:",n),{success:!1,error:"Could not verify free order eligibility."};if(s)return{success:!1,error:"User is on cooldown for this free service and link.",errorType:"LINK_COOLDOWN",cooldownExpiry:new Date(s.created_at).getTime()+60*a*6e4}}}let o={user_email:e.userEmail,username:r.username,service_id:e.serviceId,platform:s.platform,service_type:s.type,quantity:e.quantity,price:n,url:e.link,status:"Pending",comments:e.comments},{data:c,error:d}=await t.N.from("orders").insert(o).select().single();if(d)return console.error("Error placing order:",JSON.stringify(d,null,2)),{success:!1,error:"Failed to create order in database."};if(n>0){let e=r.funds-n;await i(r.email,e)}return{success:!0,order:{id:c.id,userEmail:c.user_email,username:c.username,serviceId:c.service_id,platform:c.platform,serviceType:c.service_type,quantity:c.quantity,price:c.price,status:c.status,link:c.url,createdAt:c.created_at,comments:Array.isArray(c.comments)?c.comments:null,user_cooldown_hours:s.user_cooldown_hours,link_cooldown_hours:s.link_cooldown_hours}}},g=async(e,r)=>{let{data:s,error:n}=await t.N.from("orders").select("*").eq("id",e).single();if(n||!s)return console.error("Error fetching order to update status:",n),null;if("Pending"!==s.status)return null;if("Cancelled"===r&&s.price>0){let e=await a(s.user_email);if(e){let r=e.funds+s.price;await i(e.email,r)}}let{data:o,error:c}=await t.N.from("orders").update({status:r}).eq("id",e).select().single();if(c){if(console.error("Error updating order status:",c),"Cancelled"===r&&s.price>0){let e=await a(s.user_email);e&&await i(e.email,e.funds-s.price)}return null}let d=await l(o.service_id);return{id:o.id,userEmail:o.user_email,username:o.username,serviceId:o.service_id,platform:o.platform,serviceType:o.service_type,quantity:o.quantity,price:o.price,status:o.status,link:o.url,createdAt:o.created_at,comments:Array.isArray(o.comments)?o.comments:null,user_cooldown_hours:(null==d?void 0:d.user_cooldown_hours)||0,link_cooldown_hours:(null==d?void 0:d.link_cooldown_hours)||0}},x=async()=>{let{data:e,error:r}=await t.N.from("users").select("*");return r?[]:e||[]},p=()=>({instagram:{followers:0,likes:0},tiktok:{followers:0,likes:0},youtube:{followers:0,likes:0}}),v=e=>{}},3975:(e,r,s)=>{s.d(r,{a:()=>w});var t=s(5155),a=s(6874),n=s.n(a),i=s(5695),o=s(285),l=s(1694),c=s(9576),d=s(469),u=s(4815),m=s(286),h=s(3576),f=s(8271),g=s(4063),x=s(8390),p=s(3349);let v=[{href:"/admin",icon:d.A,label:"Dashboard"},{href:"/admin/orders",icon:u.A,label:"Orders"},{href:"/admin/users",icon:m.A,label:"Users"},{href:"/admin/credentials",icon:h.A,label:"Credentials"},{href:"/admin/services",icon:f.A,label:"Services"},{href:"/admin/comments",icon:g.A,label:"Customer Comments"},{href:"/admin/pricing",icon:x.A,label:"Pricing"}];function w(){let e=(0,i.usePathname)(),{logout:r}=(0,c.A)(),s=(0,i.useRouter)();return(0,t.jsxs)("aside",{className:"hidden md:flex flex-col w-64 bg-card border-r p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[(0,t.jsx)(l.gu,{className:"h-10 w-10"}),(0,t.jsx)("span",{className:"text-xl font-bold",children:"Admin Panel"})]}),(0,t.jsx)("nav",{className:"flex flex-col gap-2 flex-1",children:v.map(r=>(0,t.jsx)(o.$,{asChild:!0,variant:e===r.href?"secondary":"ghost",className:"justify-start",children:(0,t.jsxs)(n(),{href:r.href,children:[(0,t.jsx)(r.icon,{className:"mr-2 h-4 w-4"}),r.label]})},r.href))}),(0,t.jsxs)(o.$,{variant:"ghost",className:"justify-start mt-auto",onClick:()=>{r(),s.push("/login")},children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]})}},9434:(e,r,s)=>{s.d(r,{cn:()=>n});var t=s(2596),a=s(9688);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},9576:(e,r,s)=>{s.d(r,{A:()=>c,AuthProvider:()=>l});var t=s(5155),a=s(2115),n=s(2099),i=s(3473);let o=(0,a.createContext)(void 0);function l(e){let{children:r}=e,[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),u=(0,a.useCallback)(async e=>{try{let r=await (0,i.wz)(e);l(r)}catch(e){console.error("Error fetching user profile",e),l(null)}},[]),m=(0,a.useCallback)(async()=>{if(null==s?void 0:s.email){d(!0);try{await u(s.email)}catch(e){console.error("Error refreshing user:",e)}finally{d(!1)}}},[s,u]);(0,a.useEffect)(()=>{let e=async(e,r)=>{try{var s;(null==r||null==(s=r.user)?void 0:s.email)?await u(r.user.email):l(null)}catch(e){console.error("Auth state change error:",e)}finally{d(!1)}};(async()=>{d(!0);try{let{data:{session:r},error:s}=await n.N.auth.getSession();s&&"Invalid Refresh Token: Refresh Token Not Found"!==s.message&&console.error("Error getting session:",s),await e("INITIAL_SESSION",r)}catch(e){console.error("Failed to check initial session:",e),l(null)}finally{d(!1)}})();let{data:r}=n.N.auth.onAuthStateChange(async(r,s)=>{("SIGNED_IN"===r||"SIGNED_OUT"===r)&&(d(!0),await e(r,s))});return()=>{r.subscription.unsubscribe()}},[u]);let h=async e=>{let{email:r,password:s}=e;try{let{error:e}=await n.N.auth.signInWithPassword({email:r,password:s});if(e)return{success:!1,error:e.message};return{success:!0}}catch(e){return console.error("Login failed:",e),{success:!1,error:"Failed to fetch. Please check your Supabase credentials in your environment variables."}}},f=async()=>{await n.N.auth.signOut()};return(0,t.jsx)(o.Provider,{value:{user:s,login:h,logout:f,isLoading:c,refreshUser:m},children:r})}let c=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);