(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[536],{157:(e,r,s)=>{"use strict";s.d(r,{A:()=>o});var t=s(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,r)=>{let{color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:r,...l,width:a,height:a,stroke:s,strokeWidth:o?24*Number(i)/Number(a):i,className:n("lucide",c),...m},[...u.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(d)?d:[d]])}),o=(e,r)=>{let s=(0,t.forwardRef)((s,l)=>{let{className:o,...c}=s;return(0,t.createElement)(i,{ref:l,iconNode:r,className:n("lucide-".concat(a(e)),o),...c})});return s.displayName="".concat(e),s}},285:(e,r,s)=>{"use strict";s.d(r,{$:()=>c,r:()=>o});var t=s(5155),a=s(2115),n=s(4253),l=s(2085),i=s(9434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-150 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground border-b-4 border-primary-dark hover:bg-primary-darker active:border-b-0 active:translate-y-1",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:s,variant:a,size:l,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,t.jsx)(u,{className:(0,i.cn)(o({variant:a,size:l,className:s})),ref:r,...d})});c.displayName="Button"},1906:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>y});var t=s(5155),a=s(2115),n=s(6874),l=s.n(n),i=s(9576),o=s(3473),c=s(6695),d=s(5127),u=s(6126),m=s(285),f=s(4301),h=s(4815),p=s(5695),x=s(8856);function y(){let{user:e,isLoading:r}=(0,i.A)(),[s,n]=(0,a.useState)([]),[y,v]=(0,a.useState)(!0),g=(0,p.useRouter)(),w=(0,a.useCallback)(async()=>{if(e){v(!0);try{let r=(await (0,o.WF)()).filter(r=>r.userEmail===e.email);n(r)}catch(e){console.error("Failed to fetch orders:",e)}finally{v(!1)}}},[e]);(0,a.useEffect)(()=>{e?w():r||v(!1)},[e,r,w]),(0,a.useEffect)(()=>{let e=()=>{"visible"===document.visibilityState&&window.location.reload()};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[]),(0,a.useEffect)(()=>{r||e||g.replace("/login")},[e,r,g]);let j=e=>{switch(e){case"Pending":return"secondary";case"Complete":return"default";case"Cancelled":return"destructive";default:return"outline"}};if(r||!e)return(0,t.jsxs)("div",{className:"container mx-auto py-4 sm:py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[(0,t.jsx)(x.E,{className:"h-9 w-64"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(x.E,{className:"h-10 w-32"}),(0,t.jsx)(x.E,{className:"h-10 w-36"})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3 mb-8",children:[(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{children:"Account Details"})}),(0,t.jsxs)(c.Wu,{className:"space-y-4",children:[(0,t.jsx)(x.E,{className:"h-5 w-full"}),(0,t.jsx)(x.E,{className:"h-5 w-full"}),(0,t.jsx)(x.E,{className:"h-5 w-full"})]})]}),(0,t.jsxs)(c.Zp,{className:"lg:col-span-2",children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{children:"Available Funds"})}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)(x.E,{className:"h-10 w-48"})})]})]}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Order History"}),(0,t.jsx)(c.BT,{children:"Here's a list of your recent orders."})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(x.E,{className:"h-10 w-full"}),(0,t.jsx)(x.E,{className:"h-10 w-full"}),(0,t.jsx)(x.E,{className:"h-10 w-full"})]})})]})]});let N="*".repeat(10);return(0,t.jsxs)("div",{className:"container mx-auto py-4 sm:py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[(0,t.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold",children:["Welcome, ",e.username,"!"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(m.$,{asChild:!0,children:(0,t.jsxs)(l(),{href:"/order",children:[(0,t.jsx)(f.A,{})," New Order"]})}),(0,t.jsx)(m.$,{asChild:!0,variant:"outline",children:(0,t.jsxs)(l(),{href:"/deposit",children:[(0,t.jsx)(h.A,{})," Deposit Funds"]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3 mb-8",children:[(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{children:"Account Details"})}),(0,t.jsxs)(c.Wu,{className:"space-y-3",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Username:"})," ",e.username]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Password:"})," ",N]})]})]}),(0,t.jsxs)(c.Zp,{className:"lg:col-span-2",children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Available Funds"}),(0,t.jsx)(c.BT,{children:"Your current account balance."})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsxs)("p",{className:"text-4xl font-bold",children:["PKR ",e.funds.toFixed(2)]})})]})]}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Order History"}),(0,t.jsx)(c.BT,{children:"Here's a list of your recent orders."})]}),(0,t.jsx)(c.Wu,{children:y?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"hidden md:block",children:[(0,t.jsx)(x.E,{className:"h-10 w-full"}),(0,t.jsx)(x.E,{className:"h-10 w-full"}),(0,t.jsx)(x.E,{className:"h-10 w-full"})]}),(0,t.jsxs)("div",{className:"md:hidden grid gap-4",children:[(0,t.jsx)(x.E,{className:"h-32 w-full"}),(0,t.jsx)(x.E,{className:"h-32 w-full"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsxs)(d.XI,{children:[(0,t.jsx)(d.A0,{children:(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nd,{children:"Service"}),(0,t.jsx)(d.nd,{children:"Quantity"}),(0,t.jsx)(d.nd,{children:"Price"}),(0,t.jsx)(d.nd,{children:"Status"}),(0,t.jsx)(d.nd,{children:"Date"})]})}),(0,t.jsx)(d.BF,{children:s.map(e=>(0,t.jsxs)(d.Hj,{children:[(0,t.jsxs)(d.nA,{className:"capitalize",children:[e.platform," - ",e.serviceType]}),(0,t.jsx)(d.nA,{children:e.quantity}),(0,t.jsxs)(d.nA,{children:["PKR ",e.price.toFixed(2)]}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(u.E,{variant:j(e.status),children:e.status})}),(0,t.jsx)(d.nA,{children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]})}),(0,t.jsx)("div",{className:"md:hidden grid gap-4",children:s.map(e=>(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"text-lg capitalize",children:[e.platform," - ",e.serviceType]}),(0,t.jsx)(c.BT,{children:new Date(e.createdAt).toLocaleDateString()})]}),(0,t.jsxs)(c.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Status:"}),(0,t.jsx)(u.E,{variant:j(e.status),children:e.status})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Quantity:"}),(0,t.jsx)("span",{children:e.quantity})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Price:"}),(0,t.jsxs)("span",{children:["PKR ",e.price.toFixed(2)]})]})]})]},e.id))}),0===s.length&&(0,t.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"You haven't placed any orders yet."})]})})]})]})}},2085:(e,r,s)=>{"use strict";s.d(r,{F:()=>l});var t=s(2596);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=t.$,l=(e,r)=>s=>{var t;if((null==r?void 0:r.variants)==null)return n(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:l,defaultVariants:i}=r,o=Object.keys(l).map(e=>{let r=null==s?void 0:s[e],t=null==i?void 0:i[e];if(null===r)return null;let n=a(r)||a(t);return l[e][n]}),c=s&&Object.entries(s).reduce((e,r)=>{let[s,t]=r;return void 0===t||(e[s]=t),e},{});return n(e,o,null==r||null==(t=r.compoundVariants)?void 0:t.reduce((e,r)=>{let{class:s,className:t,...a}=r;return Object.entries(a).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...i,...c}[r]):({...i,...c})[r]===s})?[...e,s,t]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}},2099:(e,r,s)=>{"use strict";s.d(r,{N:()=>l});var t=s(5647);let a="https://vjryvngvrqsxahfrrzyk.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZqcnl2bmd2cnFzeGFoZnJyenlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzMDkzMTAsImV4cCI6MjA2Nzg4NTMxMH0.UtURD4d8oWiVHQlpEoDZM1tsr3D-vWlbEgmU59CUrHc";if(!a||!n)throw Error("Supabase URL and/or anonymous key are not provided. Please check your .env.local file.");let l=(0,t.UU)(a,n)},3473:(e,r,s)=>{"use strict";s.d(r,{AR:()=>l,DY:()=>n,Gm:()=>u,Kv:()=>p,WF:()=>f,Z1:()=>i,bU:()=>d,h1:()=>c,hs:()=>m,lo:()=>x,r3:()=>y,u9:()=>v,wH:()=>h,wz:()=>a});var t=s(2099);let a=async e=>{let{data:r,error:s}=await t.N.from("users").select("*").eq("email",e).single();return s&&"PGRST116"!==s.code?(console.error("Error getting user:",s),null):r},n=async e=>{let{data:r,error:s}=await t.N.auth.signUp({email:e.email,password:e.password});if(s)return console.error("Supabase auth signup error:",s.message),{user:null,error:s.message};if(!r.user)return console.error("Supabase auth signup did not return a user."),{user:null,error:"Could not create user."};let a="user".concat(Math.floor(1e3+9e3*Math.random())),{data:n,error:l}=await t.N.from("users").insert({id:r.user.id,email:e.email,username:a,funds:0}).select().single();return l?(console.error("Error inserting user into database:",l),{user:null,error:"Could not save user profile."}):{user:n}},l=async(e,r)=>{let{data:s,error:a}=await t.N.from("users").update({funds:r}).eq("email",e).select().single();return a?(console.error("Error setting user funds:",a),null):s},i=async()=>{let{data:e,error:r}=await t.N.from("services").select("*").order("platform").order("type");return r?(console.error("Error getting services:",JSON.stringify(r,null,2)),[]):e||[]},o=async e=>{let{data:r,error:s}=await t.N.from("services").select("*").eq("id",e).single();return s?void console.error("Error getting service by ID:",s):r},c=async e=>{let r=e.map(e=>({...e,platform:e.platform.toLowerCase(),type:e.type.toLowerCase(),available:!0,user_cooldown_hours:0===e.price&&e.user_cooldown_hours||0,link_cooldown_hours:0===e.price&&e.link_cooldown_hours||0})),{data:s,error:a}=await t.N.from("services").insert(r).select();return a?(console.error("Error adding services:",a),null):s},d=async(e,r)=>{var s,a;let n={...r,platform:null==(s=r.platform)?void 0:s.toLowerCase(),type:null==(a=r.type)?void 0:a.toLowerCase()};0!==r.price&&(n.user_cooldown_hours=0,n.link_cooldown_hours=0);let{data:l,error:i}=await t.N.from("services").update(n).eq("id",e).select().single();return i?(console.error("Error updating service:",i),null):l},u=async(e,r)=>{let{data:s,error:a}=await t.N.from("services").update({available:r}).eq("id",e).select().single();return a?(console.error("Error updating service availability:",a),null):s},m=async e=>{let{error:r}=await t.N.from("services").delete().eq("id",e);return r?(console.error("Error deleting service:",r),{success:!1,error:r.message}):{success:!0}},f=async()=>{let{data:e,error:r}=await t.N.from("orders").select("*").order("created_at",{ascending:!1});return r?(console.error("Error getting orders:",JSON.stringify(r,null,2)),[]):(null==e?void 0:e.map(e=>({id:e.id,userEmail:e.user_email,username:e.username,serviceId:e.service_id,platform:e.platform,serviceType:e.service_type,quantity:e.quantity,price:e.price,status:e.status,link:e.url,createdAt:e.created_at,comments:Array.isArray(e.comments)?e.comments:null,user_cooldown_hours:e.user_cooldown_hours,link_cooldown_hours:e.link_cooldown_hours})))||[]},h=async e=>{let r=await a(e.userEmail),s=await o(e.serviceId);if(!r||!s||!s.available)return{success:!1,error:"User or service not found, or service is unavailable."};let n=e.quantity*s.price;if(r.funds<n)return{success:!1,error:"Insufficient funds."};if(s.type.toLowerCase().includes("comment")){if(0===e.quantity||!e.comments||0===e.comments.length)return{success:!1,error:"Comments cannot be empty for this service."}}else if(e.quantity<s.min||e.quantity>s.max)return{success:!1,error:"Quantity must be between ".concat(s.min," and ").concat(s.max,".")};if(0===n){let{user_cooldown_hours:r,link_cooldown_hours:a}=s;if(r>0){let s=new Date(Date.now()-60*r*6e4).toISOString(),{data:a,error:n}=await t.N.from("orders").select("created_at").eq("user_email",e.userEmail).eq("price",0).gt("created_at",s).order("created_at",{ascending:!1}).limit(1).single();if(n&&"PGRST116"!==n.code)return console.error("Error checking for recent user free orders:",n),{success:!1,error:"Could not verify free order eligibility."};if(a){let e=new Date(a.created_at).getTime()+60*r*6e4;return{success:!1,error:"You must wait ".concat(r," hour(s) between free orders."),errorType:"USER_COOLDOWN",cooldownExpiry:e}}}if(a>0){let r=new Date(Date.now()-60*a*6e4).toISOString(),{data:s,error:n}=await t.N.from("orders").select("created_at").eq("user_email",e.userEmail).eq("url",e.link).eq("price",0).gt("created_at",r).order("created_at",{ascending:!1}).limit(1).single();if(n&&"PGRST116"!==n.code)return console.error("Error checking for recent link free orders:",n),{success:!1,error:"Could not verify free order eligibility."};if(s)return{success:!1,error:"User is on cooldown for this free service and link.",errorType:"LINK_COOLDOWN",cooldownExpiry:new Date(s.created_at).getTime()+60*a*6e4}}}let i={user_email:e.userEmail,username:r.username,service_id:e.serviceId,platform:s.platform,service_type:s.type,quantity:e.quantity,price:n,url:e.link,status:"Pending",comments:e.comments},{data:c,error:d}=await t.N.from("orders").insert(i).select().single();if(d)return console.error("Error placing order:",JSON.stringify(d,null,2)),{success:!1,error:"Failed to create order in database."};if(n>0){let e=r.funds-n;await l(r.email,e)}return{success:!0,order:{id:c.id,userEmail:c.user_email,username:c.username,serviceId:c.service_id,platform:c.platform,serviceType:c.service_type,quantity:c.quantity,price:c.price,status:c.status,link:c.url,createdAt:c.created_at,comments:Array.isArray(c.comments)?c.comments:null,user_cooldown_hours:s.user_cooldown_hours,link_cooldown_hours:s.link_cooldown_hours}}},p=async(e,r)=>{let{data:s,error:n}=await t.N.from("orders").select("*").eq("id",e).single();if(n||!s)return console.error("Error fetching order to update status:",n),null;if("Pending"!==s.status)return null;if("Cancelled"===r&&s.price>0){let e=await a(s.user_email);if(e){let r=e.funds+s.price;await l(e.email,r)}}let{data:i,error:c}=await t.N.from("orders").update({status:r}).eq("id",e).select().single();if(c){if(console.error("Error updating order status:",c),"Cancelled"===r&&s.price>0){let e=await a(s.user_email);e&&await l(e.email,e.funds-s.price)}return null}let d=await o(i.service_id);return{id:i.id,userEmail:i.user_email,username:i.username,serviceId:i.service_id,platform:i.platform,serviceType:i.service_type,quantity:i.quantity,price:i.price,status:i.status,link:i.url,createdAt:i.created_at,comments:Array.isArray(i.comments)?i.comments:null,user_cooldown_hours:(null==d?void 0:d.user_cooldown_hours)||0,link_cooldown_hours:(null==d?void 0:d.link_cooldown_hours)||0}},x=async()=>{let{data:e,error:r}=await t.N.from("users").select("*");return r?[]:e||[]},y=()=>({instagram:{followers:0,likes:0},tiktok:{followers:0,likes:0},youtube:{followers:0,likes:0}}),v=e=>{}},4253:(e,r,s)=>{"use strict";s.d(r,{DX:()=>l});var t=s(2115);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var n=s(5155),l=function(e){let r=function(e){let r=t.forwardRef((e,r)=>{let{children:s,...n}=e;if(t.isValidElement(s)){var l;let e,i,o=(l=s,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,r){let s={...r};for(let t in r){let a=e[t],n=r[t];/^on[A-Z]/.test(t)?a&&n?s[t]=(...e)=>{let r=n(...e);return a(...e),r}:a&&(s[t]=a):"style"===t?s[t]={...a,...n}:"className"===t&&(s[t]=[a,n].filter(Boolean).join(" "))}return{...e,...s}}(n,s.props);return s.type!==t.Fragment&&(c.ref=r?function(...e){return r=>{let s=!1,t=e.map(e=>{let t=a(e,r);return s||"function"!=typeof t||(s=!0),t});if(s)return()=>{for(let r=0;r<t.length;r++){let s=t[r];"function"==typeof s?s():a(e[r],null)}}}}(r,o):o),t.cloneElement(s,c)}return t.Children.count(s)>1?t.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),s=t.forwardRef((e,s)=>{let{children:a,...l}=e,i=t.Children.toArray(a),c=i.find(o);if(c){let e=c.props.children,a=i.map(r=>r!==c?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,n.jsx)(r,{...l,ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,n.jsx)(r,{...l,ref:s,children:a})});return s.displayName=`${e}.Slot`,s}("Slot"),i=Symbol("radix.slottable");function o(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}},4301:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},4815:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(157).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},5127:(e,r,s)=>{"use strict";s.d(r,{A0:()=>i,BF:()=>o,Hj:()=>c,XI:()=>l,nA:()=>u,nd:()=>d});var t=s(5155),a=s(2115),n=s(9434);let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",s),...a})})});l.displayName="Table";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",s),...a})});i.displayName="TableHeader";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...a})});o.displayName="TableBody",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})}).displayName="TableFooter";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});c.displayName="TableRow";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});d.displayName="TableHead";let u=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});u.displayName="TableCell",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...a})}).displayName="TableCaption"},6126:(e,r,s)=>{"use strict";s.d(r,{E:()=>i});var t=s(5155);s(2115);var a=s(2085),n=s(9434);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)(l({variant:s}),r),...a})}},6695:(e,r,s)=>{"use strict";s.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>u});var t=s(5155),a=s(2115),n=s(9434);let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},8856:(e,r,s)=>{"use strict";s.d(r,{E:()=>n});var t=s(5155),a=s(9434);function n(e){let{className:r,...s}=e;return(0,t.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",r),...s})}},9434:(e,r,s)=>{"use strict";s.d(r,{cn:()=>n});var t=s(2596),a=s(9688);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},9576:(e,r,s)=>{"use strict";s.d(r,{A:()=>c,AuthProvider:()=>o});var t=s(5155),a=s(2115),n=s(2099),l=s(3473);let i=(0,a.createContext)(void 0);function o(e){let{children:r}=e,[s,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),u=(0,a.useCallback)(async e=>{try{let r=await (0,l.wz)(e);o(r)}catch(e){console.error("Error fetching user profile",e),o(null)}},[]),m=(0,a.useCallback)(async()=>{if(null==s?void 0:s.email){d(!0);try{await u(s.email)}catch(e){console.error("Error refreshing user:",e)}finally{d(!1)}}},[s,u]);(0,a.useEffect)(()=>{let e=async(e,r)=>{try{var s;(null==r||null==(s=r.user)?void 0:s.email)?await u(r.user.email):o(null)}catch(e){console.error("Auth state change error:",e)}finally{d(!1)}};(async()=>{d(!0);try{let{data:{session:r},error:s}=await n.N.auth.getSession();s&&"Invalid Refresh Token: Refresh Token Not Found"!==s.message&&console.error("Error getting session:",s),await e("INITIAL_SESSION",r)}catch(e){console.error("Failed to check initial session:",e),o(null)}finally{d(!1)}})();let{data:r}=n.N.auth.onAuthStateChange(async(r,s)=>{("SIGNED_IN"===r||"SIGNED_OUT"===r)&&(d(!0),await e(r,s))});return()=>{r.subscription.unsubscribe()}},[u]);let f=async e=>{let{email:r,password:s}=e;try{let{error:e}=await n.N.auth.signInWithPassword({email:r,password:s});if(e)return{success:!1,error:e.message};return{success:!0}}catch(e){return console.error("Login failed:",e),{success:!1,error:"Failed to fetch. Please check your Supabase credentials in your environment variables."}}},h=async()=>{await n.N.auth.signOut()};return(0,t.jsx)(i.Provider,{value:{user:s,login:f,logout:h,isLoading:c,refreshUser:m},children:r})}let c=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9833:(e,r,s)=>{Promise.resolve().then(s.bind(s,1906))}},e=>{var r=r=>e(e.s=r);e.O(0,[647,277,244,441,684,358],()=>r(9833)),_N_E=e.O()}]);